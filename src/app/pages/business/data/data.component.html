<div>
  <div class="row">
    <div class="col-lg-12">
      <div class="card card-top card-top-success">
        <div class="card-header">
          <vb-headers-heading [data]="{'title':'Data Entry Section'}"></vb-headers-heading>
        </div>
        </div>
    </div>
  </div>
  <div class="row">
    <div class="col-lg-5 col-md-12"
         [ngStyle]="{height:'70vh',overflow:'scroll'}">
      <nz-form-item>
        <input type="hidden" formControlName="id">
        <nz-form-control nzErrorTip="Please select district">
          <nz-select
            [(ngModel)]="province"
            nzShowSearch nzAllowClear nzPlaceHolder="Select a province"
          >
            <nz-option *ngFor="let x of provinces" nzLabel="{{x.label}}"
                       nzValue="{{x.id}}"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <vb-controls-button
          (click)="getUnconfirmed()"
          [data]="{'title':'Get Next NRC','type':'primary'}"
        ></vb-controls-button>
      </nz-form-item>
      <nz-tabset>
        <nz-tab [nzTitle]="titleTemplate">
          <ng-template #titleTemplate>
            <i nz-icon nzType=""></i>
            Basic Information
          </ng-template>
          <div class="card card-top card-top-primary">
            <div class="card-body">
              <div class="d-flex flex-wrap align-items-center">
                <div class="my-1 mr-4 font-size-36 flex-shrink-0">
                  <i class="fe fe-database"></i>
                </div>
                <div>
                  <div
                    class="font-size-18 font-weight-bold">
                    {{downloaded?.nrc|nrc}}</div>
                  <div c
                       lass="font-size-12 text-uppercase">
                    {{downloaded?.createdAt|date}}</div>
                </div>
              </div>
              <form [formGroup]="nrcForms"
                    nz-form [nzLayout]="'verical'">

                <nz-form-item>
                  <nz-form-label nzRequired>NRC</nz-form-label>
                  <nz-form-control  nzErrorTip="Please enter NRC">
                    <input (blur)="checkNrc()" [disabled]="submitting" formControlName="nrc"
                           name="name" nz-input placeholder="193000/10/1">
                  </nz-form-control>
                </nz-form-item>
<!--                <nz-form-item>-->
<!--                  <button nz-button nz-popover-->
<!--                          [nzPopoverTitle]="titleVerifyTemplate"-->
<!--                          [nzPopoverContent]="contentTemplate"-->
<!--                          nzPopoverPlacement="right">-->
<!--                    Verify NRC-->
<!--                  </button>-->
<!--                </nz-form-item>-->
                <nz-form-item>
                  <nz-form-label nzRequired>Full Names</nz-form-label>
                  <nz-form-control nzErrorTip="Please enter Full Names">
                    <input [disabled]="submitting" formControlName="names"
                           name="name" nz-input placeholder="Daniel Chirwa">
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzRequired>Gender</nz-form-label>
                  <nz-form-control nzErrorTip="Please select Gender">
                    <nz-select
                      [disabled]="submitting"
                      formControlName="gender"
                      nzShowSearch nzAllowClear nzPlaceHolder="Gender"
                    >
                      <nz-option nzLabel="male" nzValue="male" ></nz-option>
                      <nz-option nzLabel="female" nzValue="female" ></nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
                <div class="form-group">
                    <h5>Place Of Birth</h5>
                    <nz-form-item>
                      <nz-form-label nzRequired>Country</nz-form-label>
                      <nz-form-control nzErrorTip="Please select country">
                        <nz-select
                          [disabled]="submitting"
                          (ngModelChange)="getDistrictsByCountry()"
                          formControlName="country"
                          nzShowSearch nzAllowClear
                          nzPlaceHolder="Select a country">
                          <nz-option *ngFor="let x of countries"
                                     nzLabel="{{x.name}}"
                                     nzValue="{{x.id}}"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                      <nz-form-label nzRequired>District</nz-form-label>
                      <nz-form-control nzErrorTip="Please select district">
                        <nz-select
                          (ngModelChange)="onDistrictChange()"
                          [disabled]="submitting"
                          formControlName="appDistrict"
                          nzShowSearch nzAllowClear nzPlaceHolder="Select a district">
                          <nz-option *ngFor="let x of districts" nzLabel="{{x.label}}"
                                     nzValue="{{x.id}}"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                      <nz-form-label>Chief (if Applicable)</nz-form-label>
                      <nz-form-control
                        nzErrorTip="Please select chief">
                        <nz-select
                          [disabled]="submitting"
                          formControlName="chief"
                          nzShowSearch nzAllowClear nzPlaceHolder="Select a chief"
                        >
                          <nz-option *ngFor="let x of chiefs" nzLabel="{{x.name}}"
                                     nzValue="{{x.name}}"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  <nz-form-item>
                    <nz-form-label >Village(if Applicable)</nz-form-label>
                    <nz-form-control nzErrorTip="Please enter village">
                      <input [disabled]="submitting" formControlName="village"
                             name="name" nz-input placeholder="">
                    </nz-form-control>
                  </nz-form-item>
                </div>

                <h5>Father's Place Of Birth</h5>
                    <nz-form-item>
                      <nz-form-label nzRequired>District</nz-form-label>
                      <nz-form-control nzErrorTip="Please select district">
                        <nz-select
                          (ngModelChange)="getChiefsByDistrictsFather()"
                          [disabled]="submitting"
                          formControlName="fatDistrict"
                          nzShowSearch nzAllowClear nzPlaceHolder="Select a district">
                          <nz-option *ngFor="let x of districtsFather" nzLabel="{{x.label}}"
                                     nzValue="{{x.id}}"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                    <nz-form-item>
                      <nz-form-label nzRequired>Chief</nz-form-label>
                      <nz-form-control
                        nzErrorTip="Please select chief">
                        <nz-select
                          [disabled]="submitting"
                          formControlName="fatChief"
                          nzShowSearch nzAllowClear nzPlaceHolder="Select a chief"
                        >
                          <nz-option *ngFor="let x of chiefsFather" nzLabel="{{x.name}}"
                                     nzValue="{{x.name}}"></nz-option>
                        </nz-select>
                      </nz-form-control>
                    </nz-form-item>
                  <nz-form-item>
                    <nz-form-label nzRequired>Village</nz-form-label>
                    <nz-form-control nzErrorTip="Please enter village">
                      <input [disabled]="submitting" formControlName="fatVillage"
                             name="name" nz-input placeholder="">
                    </nz-form-control>
                  </nz-form-item>
                <hr>
                <nz-form-item>
                  <nz-form-label nzRequired>DOB</nz-form-label>
                  <nz-form-control nzErrorTip="Enter Date Of Birth">
                    <nz-date-picker
                      [(ngModel)]="dob"
                      name="dob"
                      [ngModelOptions]="{standalone: true}"
                      (ngModelChange)="changeDob($event)">
                    </nz-date-picker>
                    <br />
                  </nz-form-control>
                </nz-form-item>
                <nz-form-item>
                  <nz-form-label nzRequired>DOR</nz-form-label>
                  <nz-form-control nzErrorTip="Enter Date Of Registration">
                    <nz-date-picker
                      [(ngModel)]="dor"
                      name="dob"
                      [ngModelOptions]="{standalone: true}"
                      (ngModelChange)="changeDor($event)">
                    </nz-date-picker>
                    <br />
                  </nz-form-control>
                </nz-form-item>
                <hr>
                <div class="form-group">
                  <nz-form-item>
                    <nz-form-label nzRequired>Education</nz-form-label>
                    <nz-form-control
                      nzErrorTip="Please select education level">
                      <nz-select
                        formControlName="education"
                        nzShowSearch nzAllowClear nzPlaceHolder="Select a education level"
                      >
                        <nz-option *ngFor="let x of education" nzLabel="{{x.name}}"
                                   nzValue="{{x.name}}"></nz-option>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                  <nz-form-item>
                    <nz-form-label nzRequired>Race</nz-form-label>
                    <nz-form-control
                      nzErrorTip="Please select race">
                      <nz-select
                        formControlName="race"
                        nzShowSearch nzAllowClear nzPlaceHolder="Select a Race"
                      >
                        <nz-option *ngFor="let x of race" nzLabel="{{x.name}}"
                                   nzValue="{{x.name}}"></nz-option>
                      </nz-select>
                    </nz-form-control>
                  </nz-form-item>
                </div>
                <nz-form-item>
                  <button nz-button (click)="submitForm()"
                          [nzLoading]="submitting"
                          class="btn btn-success text-nowrap mt-3">
                    Submit
                  </button>
                </nz-form-item>

              </form>
            </div>
          </div>

        </nz-tab>
        <nz-tab [nzTitle]="workTemplate">
          <ng-template #workTemplate>
            <i nz-icon nzType=""></i>
            My Works
          </ng-template>
          <div class="card card-top card-top-primary">
            <div class="card-body">
              coming soon</div>
          </div>
        </nz-tab>
      </nz-tabset>
    </div>
    <div class="col-lg-7 col-md-12">
      <div class="card card-top card-top-primary">
        <div class="card-header">
          <vb-headers-heading [data]="{'title':'NRC Images'}"></vb-headers-heading>
        </div>
      </div>
      <div class="card-body">

          <img nz-image width="500" height="400" [nzSrc]="pic1" alt="NRC Image 1" />
          <img nz-image width="500" height="400" [nzSrc]="pic2" alt="NRC Image 2" />

      </div>
    </div>
  </div>
</div>

<ng-template #titleVerifyTemplate>
  <i nz-icon nzType="check"></i>
  NRC :{{downloaded?.nrc}}
</ng-template>
<ng-template #contentTemplate>
  <p *ngIf="nrcExists">NRC number has duplicates</p>
  <p *ngIf="!nrcExists">NRC number has no duplicates.</p>
</ng-template>
`
