<div class="comments-wrap">
    <ul class="comments-list">
        <ng-container *ngFor='let x of item?.comments'>
            <li>
                <div class="comment-body">
                    <div class='row'>
                        <div class='col-12'>
                            <img *ngFor='let y of x.image' class='ml-1' nz-image width="200px" height="200px" [nzSrc]='y.url' alt="Attached image" />
                        </div>
                    </div>
                    <quill-view-html [content]='x?.comment'></quill-view-html>

                    <span class="comment-separated">-</span>
                    <a class="comment-user" title="commented by">{{x.commentor.displayName}}</a>
                    <span class="comment-separated">-</span>
                    <a href="#" class="comment-date"> -{{x.createdAt|dateAgo}}</a>
                </div>
            </li>
        </ng-container>

    </ul>
    <div class="comment-form">
        <!-- <div class="comment-link-wrap text-center">
            <a class="collapse-btn comment-link" data-toggle="collapse" href="#addCommentCollapse" role="button" aria-expanded="false" aria-controls="addCommentCollapse" title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments.">Add a comment</a>
        </div> -->
        <nz-collapse>
            <nz-collapse-panel nzHeader="Add Comment Here">
                <div>
                    <form [formGroup]='commentForm' class="row pb-3">
                        <div class="col-lg-12">
                            <h4 class="fs-16 pb-2">Leave a Comment</h4>
                            <div class="divider mb-2"><span></span></div>
                        </div>
                        <!-- end col-lg-12 -->
                        <div class="col-lg-12">
                            <div class="input-box">
                                <label class="fs-13 text-black lh-20">Message</label>
                                <div class="form-group">
                                    <div class="editor">
                                        <quill-editor style="height: 200px;" formControlName='comment' [modules]='myModules'>
                                        </quill-editor>
                                    </div>
                                </div>
                            </div>
                            <div class="input-box">
                                <label class="fs-13 text-black lh-20">Attachment</label>
                                <div class="form-group">
                                    <div>
                                        <label class="fs-14 text-black fw-medium">Image
                  (Upload any supporting photo or file, max size 5mb)</label>
                                        <div class="form-group">
                                            <nz-upload nzAccept='image/*,.pdf,.doc,.docx,.xls,.xlsx' nzSize='5000' [nzFileList]='myUploadFilesComments' [nzCustomRequest]='uploadModule.uploadFiles'>
                                                <button nz-button>
                      <i nz-icon nzType="upload"></i>
                      Click to Upload
                    </button>
                                            </nz-upload>
                                        </div>
                                    </div>
                                    <!-- end input-box -->
                                </div>
                            </div>
                        </div>
                        <!-- end col-lg-12 -->
                        <div class="col-lg-12">
                            <div class="input-box d-flex flex-wrap align-items-center justify-content-between">
                                <button [disabled]='!commentForm.valid' (click)='createComment()' class="btn btn-primary theme-btn theme-btn-sm theme-btn-outline theme-btn-outline-gray" type="submit">Post Comment</button>
                            </div>
                        </div>
                        <!-- end col-lg-12 -->
                    </form>
                </div>
            </nz-collapse-panel>
        </nz-collapse>

        <!-- end collapse -->
    </div>
</div>
