<div class="col-12">
    <div class="btn btn-primary btn-lg" (click)="logout()">Logout</div>
</div>
<div class="col-10 ml-3 col-md-8">
    <nz-tabset class="vb-tabs-bold" [nzSelectedIndex]="0">
        <nz-tab nzTitle="Payslips">
            <nz-table #basicTable [nzData]="data">
                <thead>
                    <tr>
                        <th>Available Payslips</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of basicTable.data">
                        <td (click)="getPayslip(data)"> Click here to open {{data|monthsyear |date:"MMMM YYYY"}} Payslip</td>
                    </tr>
                </tbody>
            </nz-table>
            <!--      <nz-list nzBordered nzHeader="Available Payslips" nzFooter="SZI">-->
            <!--        <nz-list-item *ngFor="let item of data"-->
            <!--        [style.cursor]="'pointer'"-->
            <!--                      (click)="getPayslip(item)"-->
            <!--        >-->
            <!--          <span nz-typography>Click here to view {{ item|monthsyear |date}}</span>-->

            <!--        </nz-list-item>-->
            <!--      </nz-list>-->
        </nz-tab>
        <nz-tab nzTitle="Feedback">
            <nz-alert *ngIf="showError" nzType="error" nzMessage="Error: Try again later" nzShowIcon></nz-alert>
            <nz-alert *ngIf="showSuccess" nzType="success" nzMessage="Thank you for the feedback." nzShowIcon></nz-alert>
            <form [formGroup]="feedback" (ngSubmit)="submit(model)">
                <formly-form [form]="feedback" [fields]="fields" [model]="model"></formly-form>
                <button nz-button nzType="primary" type="submit" [nzLoading]="loading">Submit</button>
            </form>
        </nz-tab>
        <!--    <nz-tab nzTitle="Actions">-->
        <!--      <payslip-lists-8>-->
        <!--      </payslip-lists-8>-->
        <!--    </nz-tab>-->
    </nz-tabset>
</div>

<nz-drawer [nzClosable]="true" [nzVisible]="visible" nzPlacement="top" nzHeight="500" nzTitle="Payslip" (nzOnClose)="close()">
    <ng-container *nzDrawerContent>
        <app-payslip *ngIf="payslipdownloaded" [payslip]="epayslip"></app-payslip>
        <nz-skeleton *ngIf="!payslipdownloaded" nzActive="true"></nz-skeleton>
    </ng-container>
</nz-drawer>
